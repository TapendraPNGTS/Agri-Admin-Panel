"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[8943],{58943:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(29439),r=n(72791),i=n(56650),s=n(21680),c=n(19773),l=n(24390),o=n(69963),d=n(9827),h=n(27669),u=n(60807),x=n(48928),j=n(59911),g=n(45953),Z=n(91923),f=n(23735),p=n(4565),m=n(65209),w=n(80184);function S(){var e=r.useState(0),t=(0,a.Z)(e,2),n=t[0],S=t[1],b=(0,r.useState)(""),y=(0,a.Z)(b,2),P=y[0],v=y[1],k=r.useState(10),C=(0,a.Z)(k,2),I=C[0],D=C[1],N=(0,r.useState)(""),z=(0,a.Z)(N,2),E=z[0],F=z[1];(0,r.useEffect)((function(){!function(){var e=new Headers;e.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),e.append("Authorization","Bearer "+localStorage.getItem("token")),e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify({adminId:localStorage.getItem("userId")}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ankitchawda.in/api/v1/","getAllAttendence"),t).then((function(e){return e.json()})).then((function(e){F(e.data)})).catch((function(e){return console.log("error",e)}))}()}),[]);function H(e){return new Date(e).toLocaleString("en-us",{day:"numeric",month:"short",year:"numeric"})}return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(j.Z,{id:"outlined-search",label:"Search field",type:"search",fullWidth:!0,onChange:function(e){v(e.target.value)}}),(0,w.jsx)(f.Z,{title:(0,w.jsx)(g.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:Z.dv,children:(0,w.jsx)(g.ZP,{item:!0,children:(0,w.jsx)(p.Z,{variant:"h3",children:"Attendance List"})})}),content:!1,children:E?(0,w.jsxs)(x.Z,{children:[(0,w.jsx)(g.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:Z.dv,children:(0,w.jsx)(g.ZP,{item:!0})}),(0,w.jsxs)(i.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,w.jsx)(o.Z,{sx:{maxHeight:540},children:(0,w.jsxs)(s.Z,{stickyHeader:!0,"aria-label":"sticky table",id:"my-table",children:[(0,w.jsx)(d.Z,{children:(0,w.jsxs)(u.Z,{children:[(0,w.jsx)(l.Z,{sx:{pl:3},children:"S. No."}),(0,w.jsx)(l.Z,{children:"Start Date"}),(0,w.jsx)(l.Z,{children:"End Date"}),(0,w.jsx)(l.Z,{children:"Name"}),(0,w.jsx)(l.Z,{children:"Email"}),(0,w.jsx)(l.Z,{children:"Status "})]})}),(0,w.jsx)(c.Z,{children:E.filter((function(e){return""===P?e:e.Title.toLowerCase().includes(P.toLowerCase())})).slice(n*I,n*I+I).map((function(e,t){return(0,w.jsxs)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,w.jsx)(l.Z,{sx:{pl:3},align:"start",children:t+1}),(0,w.jsx)(l.Z,{children:H(e.StartDate)}),(0,w.jsx)(l.Z,{children:H(e.EndDate)}),(0,w.jsx)(l.Z,{align:"start",children:e.StaffID.UserName}),(0,w.jsx)(l.Z,{align:"start",children:e.StaffID.Email}),(0,w.jsx)(l.Z,{align:"start",children:e.Status?(0,w.jsx)(m.Z,{label:"ON",color:"success",size:"small"}):(0,w.jsx)(m.Z,{label:"OFF",chipcolor:"orange",size:"small"})})]},e.code)}))})]})}),(0,w.jsx)(h.Z,{rowsPerPageOptions:[10,20,100],component:"div",count:E.length,rowsPerPage:I,page:n,onPageChange:function(e,t){S(t)},onRowsPerPageChange:function(e){D(+e.target.value),S(0)}})]})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("br",{}),(0,w.jsx)("h5",{className:"text-center",children:"Please Wait Data Loading..."})]})})]})}}}]);
//# sourceMappingURL=8943.9620eb5a.chunk.js.map