"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[5980],{15980:function(e,t,n){n.r(t);var i=n(29439),r=n(72791),a=n(56650),s=n(21680),c=n(24390),l=n(69963),o=n(9827),d=n(27161),h=n(60807),u=n(48928),x=n(42419),p=n(59911),f=n(45953),j=n(61091),Z=n(91923),g=n(23735),m=n(19773),v=n(41286),w=n(27247),y=n(62062),S=n.n(y),I=n(75985),z=n(4565),C=n(94162),P=n(75814),b=n(13811),k=n(57689),H=n(11087),N=n(3746),O=n(80184);t.default=function(){var e=(0,k.s0)(),t=r.useState(0),n=(0,i.Z)(t,2),y=n[0],T=(n[1],(0,r.useState)("")),M=(0,i.Z)(T,2),V=M[0],A=M[1],D=r.useState(10),E=(0,i.Z)(D,2),R=E[0],U=(E[1],(0,r.useState)("")),L=(0,i.Z)(U,2),_=L[0],F=L[1];function J(){var e=new Headers;e.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),e.append("Authorization","Bearer "+localStorage.getItem("token")),e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify({adminId:localStorage.getItem("userId")}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ngtsindore.in/api/v1/","getAllStaff"),t).then((function(e){return e.json()})).then((function(e){F(e.data)})).catch((function(e){return console.log("error",e)}))}(0,r.useEffect)((function(){J()}),[]);return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(g.Z,{title:(0,O.jsxs)(f.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:Z.dv,children:[(0,O.jsx)(f.ZP,{item:!0,xs:12,md:12,children:(0,O.jsx)(p.Z,{id:"outlined-search",label:"Search field",type:"search",fullWidth:!0,onChange:function(e){A(e.target.value)}})}),(0,O.jsx)(f.ZP,{item:!0,children:(0,O.jsx)(z.Z,{variant:"h3",children:"Manage User"})}),(0,O.jsxs)(f.ZP,{item:!0,children:[(0,O.jsx)(j.Z,{variant:"outlined",onClick:function(t){e("/create-user")},startIcon:(0,O.jsx)(x.Z,{}),children:"New User"}),"\xa0 \xa0"]})]}),content:!1,children:_?(0,O.jsxs)(u.Z,{children:[(0,O.jsx)(f.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:Z.dv,children:(0,O.jsx)(f.ZP,{item:!0})}),(0,O.jsxs)(a.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,O.jsx)(l.Z,{sx:{maxHeight:540},children:(0,O.jsxs)(s.Z,{stickyHeader:!0,"aria-label":"sticky table",id:"my-table",children:[(0,O.jsx)(o.Z,{children:(0,O.jsxs)(h.Z,{children:[(0,O.jsx)(c.Z,{sx:{pl:3},children:"ID"}),(0,O.jsx)(c.Z,{children:"Roll Name"}),(0,O.jsx)(c.Z,{children:"Name"}),(0,O.jsx)(c.Z,{children:"Email"}),(0,O.jsx)(c.Z,{children:"Phone"}),(0,O.jsx)(c.Z,{children:"Type"}),(0,O.jsx)(c.Z,{align:"center",sx:{pr:3},children:"Actions"})]})}),(0,O.jsx)(m.Z,{children:_.filter((function(e){return""===V?e:e.Title.toLowerCase().includes(V.toLowerCase())})).slice(y*R,y*R+R).map((function(t,n){return(0,O.jsxs)(h.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,O.jsx)(c.Z,{sx:{pl:3},align:"start",children:n+1}),(0,O.jsx)(c.Z,{children:t.RoleID.Name}),(0,O.jsx)(c.Z,{children:t.UserName}),(0,O.jsx)(c.Z,{align:"start",children:t.Email}),(0,O.jsx)(c.Z,{align:"start",children:t.Contact}),(0,O.jsx)(c.Z,{align:"start",children:t.Type}),(0,O.jsx)(c.Z,{align:"center",sx:{pr:3},children:(0,O.jsxs)(C.Z,{direction:"row",justifyContent:"center",alignItems:"center",children:[(0,O.jsx)(P.Z,{placement:"top",title:"Edit",onClick:function(n){e("/edit-user/".concat(t.StaffID))},"data-target":"#",children:(0,O.jsx)(b.Z,{color:"primary","aria-label":"edit",size:"large",children:(0,O.jsx)(v.Z,{sx:{fontSize:"1.1rem"}})})}),(0,O.jsx)(H.rU,{to:"/view-staff/".concat(t.StaffID),children:(0,O.jsx)(b.Z,{color:"primary",title:"view Product","aria-label":"view",size:"large",children:(0,O.jsx)(N.Z,{sx:{fontSize:"1.1rem"}})})}),(0,O.jsx)(P.Z,{placement:"top",title:"delete",onClick:(i="".concat(t.StaffID),function(){S()({title:"Are you sure want to delete?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){if(e){I.Am.success("Deleted Successfully",{position:I.Am.POSITION.TOP_CENTER,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var t=new Headers;t.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),t.append("Authorization","Bearer "+localStorage.getItem("token")),t.append("Content-Type","application/json");var n={method:"POST",headers:t,body:JSON.stringify({adminId:localStorage.getItem("userId"),roleId:i}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ngtsindore.in/api/v1/","deleteRole"),n).then((function(e){return e.text()})).then((function(e){J()})).catch((function(e){return console.log("error",e)}))}}))}),children:(0,O.jsx)(b.Z,{color:"primary","aria-label":"edit",size:"large",children:(0,O.jsx)(w.Z,{sx:{fontSize:"1.1rem"}})})})]})})]},t.code);var i}))})]})}),(0,O.jsx)(d.Z,{rowsPerPageOptions:[10,20,100],component:"div",count:_.length,rowsPerPage:R,page:y})]})]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("br",{}),(0,O.jsx)("h5",{className:"text-center",children:"Please Wait Data Loading..."})]})})})}},42419:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(45649)),a=n(80184),s=(0,r.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=s},27247:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(45649)),a=n(80184),s=(0,r.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},41286:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(45649)),a=n(80184),s=(0,r.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},3746:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(45649)),a=n(80184),s=(0,r.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=s}}]);
//# sourceMappingURL=5980.ac238ebd.chunk.js.map