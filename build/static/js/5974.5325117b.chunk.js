/*! For license information please see 5974.5325117b.chunk.js.LICENSE.txt */
(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[5974],{35878:function(e,n,t){"use strict";var r=t(72791);n.Z=function(){var e=(0,r.useRef)(!0);return(0,r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},45290:function(e,n,t){"use strict";var r=t(1413),i=t(45987),s=t(96015),o=t(23735),a=t(80184),c=["children"];n.Z=function(e){var n=e.children,t=(0,i.Z)(e,c);return(0,a.jsx)(o.Z,(0,r.Z)((0,r.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},t),{},{children:(0,a.jsx)(s.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:n})}))}},33914:function(e,n,t){"use strict";var r=(0,t(60277).ZP)("div")((function(e){return{backgroundColor:e.theme.palette.primary.light,minHeight:"100vh"}}));n.Z=r},15974:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var r=t(11087),i=t(74142),s=t(52797),o=t(45953),a=t(4565),c=t(81872),l=t(33914),d=t(45290),u=t(79625),h=t(1413),p=t(29439),f=t(45987),x=t(72791),m=t(57689),g=t(75985),Z=t(67280),v=t(81898),j=t(40508),w=t(34420),y=t(94162),P=t(96015),b=t(61091),S=t(92506),C=t(35878),k=t(41176),O=t(80184),I=["loginProp"],T=function(e){e.loginProp;var n=(0,f.Z)(e,I),t=(0,m.s0)(),r=(0,m.UO)();""===!localStorage.getItem("token")?window.location.href="/dashboard":""===localStorage.getItem("token")&&(window.location.href="/");var s=(0,i.Z)(),o=((0,C.Z)(),(0,x.useState)(!1)),a=(0,p.Z)(o,2),c=a[0],l=a[1],d=(0,x.useState)(!1),u=(0,p.Z)(d,2),T=u[0],N=u[1],A=(0,x.useState)(""),H=(0,p.Z)(A,2),z=H[0],E=H[1],V=(0,x.useState)(""),B=(0,p.Z)(V,2),F=B[0],R=B[1],_=(0,x.useState)(""),J=(0,p.Z)(_,2),U=(J[0],J[1]),W=(0,x.useState)(""),G=(0,p.Z)(W,2),q=G[0],D=G[1];return(0,x.useEffect)((function(){!function(){var e=new Headers;e.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),e.append("Authorization","Bearer "+localStorage.getItem("token")),e.append("Content-Type","application/json");var n={method:"POST",headers:e,body:JSON.stringify({token:r.id}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ngtsindore.in/api/v1/","verifyEmailToken"),n).then((function(e){return e.json()})).then((function(e){200===e.code?(D(e.data.StaffID),N(!0)):N(!1)})).catch((function(e){return console.log("error",e)}))}()}),[]),(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(S.J9,{initialValues:{email:"",password:"",submit:null},children:T?(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("form",(0,h.Z)((0,h.Z)({noValidate:!0,onSubmit:function(e){e.preventDefault();var n=z!==F?"Passwords do not match.":z.length<6?"Password must be at least 6 characters.":"";n?U(n):(U(""),alert("Passwords are valid!")),l(!0);var r=new Headers;r.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),r.append("Authorization","Bearer "+localStorage.getItem("token")),r.append("Content-Type","application/json");var i={method:"POST",headers:r,body:JSON.stringify({adminId:q,password:z}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ngtsindore.in/api/v1/","forgetPassword"),i).then((function(e){return e.json()})).then((function(e){200===e.code?(t("/"),g.Am.success("Change Successfully",{position:g.Am.POSITION.TOP_CENTER,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})):201==e.code&&(l(!1),g.Am.error(e.message,{position:g.Am.POSITION.TOP_CENTER,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}))})).catch((function(e){}))}},n),{},{children:[(0,O.jsxs)(v.Z,{fullWidth:!0,sx:(0,h.Z)({},s.typography.customInput),children:[(0,O.jsx)(j.Z,{htmlFor:"outlined-adornment-password-login",children:"New Password"}),(0,O.jsx)(w.Z,{id:"outlined-adornment-password-login",type:"number",name:"new-password",value:z,label:"New Password",onChange:function(e){E(e.target.value)}})]}),(0,O.jsxs)(v.Z,{fullWidth:!0,sx:(0,h.Z)({},s.typography.customInput),children:[(0,O.jsx)(j.Z,{htmlFor:"outlined-adornment-password-login",children:"Confirm Password"}),(0,O.jsx)(w.Z,{id:"outlined-adornment-password-login",type:"number",name:"confirm-password",value:F,label:"Confirm Password",onChange:function(e){R(e.target.value)}})]}),(0,O.jsx)(y.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1}),(0,O.jsx)(P.Z,{sx:{mt:2},children:c?(0,O.jsx)(Z.Z,{animation:"grow"}):(0,O.jsx)(k.Z,{children:(0,O.jsx)(b.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Verify OTP"})})})]}))}):(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("center",{children:(0,O.jsx)("span",{style:{color:"red"},children:"The Token Is expire"})})})})})},N=(t(17834),function(){var e=(0,i.Z)(),n=(0,s.Z)(e.breakpoints.down("md"));return(0,O.jsx)(l.Z,{children:(0,O.jsx)(o.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,O.jsx)(o.ZP,{item:!0,xs:12,children:(0,O.jsx)(o.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,O.jsx)(o.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,O.jsx)(d.Z,{children:(0,O.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,O.jsx)(o.ZP,{item:!0,sx:{mb:3},children:(0,O.jsx)(r.rU,{to:"#",children:(0,O.jsx)("img",{src:u.Z,alt:"My Agri Input"})})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,children:(0,O.jsxs)(o.ZP,{container:!0,alignItems:"center",justifyContent:"center",textAlign:"center",spacing:2,children:[(0,O.jsx)(o.ZP,{item:!0,xs:12,children:(0,O.jsx)(a.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:n?"h3":"h2",children:"Verify OTP"})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,children:(0,O.jsx)(a.Z,{variant:"caption",fontSize:"16px",textAlign:"center",children:"Enter your OTP below and we'll allow you to reset password."})})]})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,children:(0,O.jsx)(T,{})}),(0,O.jsx)(o.ZP,{item:!0,xs:12,children:(0,O.jsx)(c.Z,{})})]})})})})})})})})},81694:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var s=typeof t;if("string"===s||"number"===s)e.push(t);else if(Array.isArray(t)){if(t.length){var o=i.apply(null,t);o&&e.push(o)}}else if("object"===s){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var a in t)r.call(t,a)&&t[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(t=function(){return i}.apply(n,[]))||(e.exports=t)}()},67280:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(1413),i=t(45987),s=t(81694),o=t.n(s),a=t(72791),c=t(80184),l=["xxl","xl","lg","md","sm","xs"],d=a.createContext({prefixes:{},breakpoints:l,minBreakpoint:"xs"});d.Consumer,d.Provider;function u(e,n){var t=(0,a.useContext)(d).prefixes;return e||t[n]||n}var h=["bsPrefix","variant","animation","size","as","className"],p=a.forwardRef((function(e,n){var t=e.bsPrefix,s=e.variant,a=e.animation,l=void 0===a?"border":a,d=e.size,p=e.as,f=void 0===p?"div":p,x=e.className,m=(0,i.Z)(e,h);t=u(t,"spinner");var g="".concat(t,"-").concat(l);return(0,c.jsx)(f,(0,r.Z)((0,r.Z)({ref:n},m),{},{className:o()(x,g,d&&"".concat(g,"-").concat(d),s&&"text-".concat(s))}))}));p.displayName="Spinner";var f=p}}]);
//# sourceMappingURL=5974.5325117b.chunk.js.map