"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[4094],{54094:function(e,t,a){a.r(t);a(93433);var r=a(15861),n=a(29439),i=a(64687),s=a.n(i),l=a(72791),c=a(23735),u=a(62248),d=a(91923),o=a(57689),h=a(45953),m=a(94162),x=a(59911),p=a(23057),g=a(35702),Z=a(96580),j=a(61091),v=(a(53540),a(28249)),f=a.n(v),C=(a(86009),a(65218)),S=a(2410),b=a(91943),P=a(89698),y=a(59434),I=a(48999),w=a(42893),k=a(80184);t.default=function(){var e=(0,o.UO)(),t=(0,o.s0)(),a=new S.Z,i=(0,y.I0)(),v=(0,l.useState)([]),q=(0,n.Z)(v,2),F=q[0],D=q[1],N=(0,l.useState)([]),B=(0,n.Z)(N,2),E=B[0],A=B[1],M=l.useState(""),W=(0,n.Z)(M,2),R=W[0],_=W[1],T=l.useState(""),Q=(0,n.Z)(T,2),V=Q[0],z=Q[1],L=l.useState(""),O=(0,n.Z)(L,2),U=O[0],X=O[1],G=l.useState(!0),H=(0,n.Z)(G,2),J=H[0],K=H[1],Y=(0,l.useState)(),$=(0,n.Z)(Y,2),ee=$[0],te=$[1],ae=(0,l.useState)(!1),re=(0,n.Z)(ae,2),ne=re[0],ie=re[1],se=(0,l.useState)(""),le=(0,n.Z)(se,2),ce=le[0],ue=le[1],de=l.useState(!1),oe=(0,n.Z)(de,2),he=oe[0],me=oe[1],xe=l.useState(!1),pe=(0,n.Z)(xe,2),ge=pe[0],Ze=pe[1],je=l.useState(!1),ve=(0,n.Z)(je,2),fe=ve[0],Ce=ve[1],Se=(0,l.useState)(""),be=(0,n.Z)(Se,2),Pe=be[0],ye=be[1],Ie=(0,l.useState)([]),we=(0,n.Z)(Ie,2),ke=we[0],qe=we[1],Fe=(0,l.useState)(),De=(0,n.Z)(Fe,2),Ne=De[0],Be=De[1],Ee=l.useState(""),Ae=(0,n.Z)(Ee,2),Me=Ae[0],We=Ae[1],Re=l.useState([]),_e=(0,n.Z)(Re,2),Te=_e[0],Qe=_e[1],Ve=(0,l.useState)(),ze=(0,n.Z)(Ve,2),Le=ze[0],Oe=ze[1],Ue=l.useState(""),Xe=(0,n.Z)(Ue,2),Ge=Xe[0],He=Xe[1],Je=l.useState(),Ke=(0,n.Z)(Je,2),Ye=Ke[0],$e=Ke[1],et=l.useState(""),tt=(0,n.Z)(et,2),at=tt[0],rt=tt[1],nt=l.useState(""),it=(0,n.Z)(nt,2),st=it[0],lt=it[1],ct=l.useState(""),ut=(0,n.Z)(ct,2),dt=ut[0],ot=ut[1],ht=l.useState(""),mt=(0,n.Z)(ht,2),xt=mt[0],pt=mt[1],gt=l.useState(""),Zt=(0,n.Z)(gt,2),jt=Zt[0],vt=Zt[1],ft=l.useState(""),Ct=(0,n.Z)(ft,2),St=Ct[0],bt=Ct[1],Pt=(0,l.useCallback)((0,r.Z)(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.getProductById({productId:e.id});case 3:if(!(n=t.sent)||200!==(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.code)){t.next=27;break}_(n.data.data.Name),te(n.data.data.CategoryID.CategoryID),_(n.data.data.Name),K(n.data.data.IsActive),z(n.data.data.Price),X(n.data.data.Quantity),$e(n.data.data.DiscountPrice),ue(n.data.data.FrenchisePrice),We(n.data.data.CoverImage),Qe(n.data.data.Images),me(n.data.data.IsBestSeller),Ce(n.data.data.IsBestDeal),Ze(n.data.data.IsNewArrival),ye(n.data.data.Description),Oe(n.data.data.Feature),ot(n.data.data.StateCommission),pt(n.data.data.DistrictCommission),vt(n.data.data.BlockCommission),bt(n.data.data.ClusterCommission),At(n.data.data.Variants),t.next=28;break;case 27:return t.abrupt("return",C.Am.error("Something went wrong!"));case 28:t.next=35;break;case 30:throw t.prev=30,t.t0=t.catch(0),console.error(t.t0),C.Am.error("Something went wrong"),t.t0;case 35:case"end":return t.stop()}}),t,null,[[0,30]])}))));function yt(){return(yt=(0,r.Z)(s().mark((function r(n){var i,l,c,u,d,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(ie(!0),n.preventDefault(),(l=new FormData).append("adminId",localStorage.getItem("userId")),l.append("productId",e.id),l.append("name",R),l.append("active",J),l.append("stateCommission",dt),l.append("districtCommission",xt),l.append("blockCommission",jt),l.append("clusterCommission",St),l.append("price",V),l.append("quantity",U),l.append("feature",Le),l.append("description",Pe),l.append("categoryId",ee),Et.forEach((function(e,t){l.append("variant[".concat(t,"]"),[])})),l.append("subCategoryId",Ge),l.append("img",F),c=0,u=Object.keys(E);c<u.length;c++)d=u[c],l.append("images",E[d]);return l.append("frenchisePrice",ce),l.append("discountPrice",Ye),l.append("isNew",ge),l.append("isBestSeller",he),l.append("isBestDeal",fe),r.next=27,a.editProduct(l);case 27:if(!(o=r.sent)||200!==(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.code)){r.next=33;break}C.Am.success("Added successsfully"),t("/product",{replace:!0}),r.next=34;break;case 33:return r.abrupt("return",C.Am.error("Something went wrong!"));case 34:case"end":return r.stop()}}),r)})))).apply(this,arguments)}l.useEffect((function(){Pt()}),[]);var It=new b.Z,wt=(0,y.v9)((function(e){return e.category.Category})),kt=(0,l.useCallback)((0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.getAllCategory();case 3:if((t=e.sent)&&t.data.data){e.next=8;break}return e.abrupt("return",C.Am.error("no available"));case 8:return i((0,P.wX)(t.data.data)),e.abrupt("return");case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),C.Am.error("Something went wrong"),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,12]])}))));(0,l.useEffect)((function(){kt()}),[]);var qt=new I.Z,Ft=(0,y.v9)((function(e){return e.subCategory.SubCategory}));function Dt(){return(Dt=(0,r.Z)(s().mark((function e(t){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,qt.getSubCategoryByCategoryId({categoryId:ee});case 3:if(!(r=e.sent)||200!==(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.code)){e.next=8;break}return e.abrupt("return",i((0,w.Se)(r.data.data)));case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nt=(0,l.useState)([]),Bt=(0,n.Z)(Nt,2),Et=Bt[0],At=Bt[1],Mt=(0,l.useState)(""),Wt=(0,n.Z)(Mt,2);return Wt[0],Wt[1],(0,k.jsx)(c.Z,{title:"Edit Product",children:(0,k.jsxs)("form",{children:[(0,k.jsxs)(h.ZP,{container:!0,spacing:d.dv,children:[(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Product Name"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"category",name:"category",inputProps:{maxLength:30},value:R,onChange:function(e){return _(e.target.value)},placeholder:"Enter category title"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Active"}),(0,k.jsxs)(p.Z,{id:"active",name:"active",value:J,onChange:function(e){return K(e.target.value)},children:[(0,k.jsx)(g.Z,{value:"true",children:"True"}),(0,k.jsx)(g.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Market Retail Price (MRP)"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:V,onChange:function(e){return z(e.target.value)},placeholder:"Enter Price"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Selling Price"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"sale",name:"sale",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:Ye,onChange:function(e){return $e(parseFloat(e.target.value))},onBlur:function(){rt(Ye<V?"":(0,k.jsx)("span",{style:{color:"red"},children:"Selling price doesn't greater than (Market Retail Price)MRP"}))},placeholder:"Enter Market price"}),at]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Franchise Price"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:ce,onChange:function(e){return ue(parseFloat(e.target.value))},onBlur:function(){lt(ce<V?"":(0,k.jsx)("span",{style:{color:"red"},children:"Franchise price doesn't greater than (Market Retail Price)MRP"}))},placeholder:"Enter Franchise price"}),st]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Product Quantity"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"quantity",name:"quantity",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,3)},value:U,onChange:function(e){return X(e.target.value)},placeholder:"Enter Quantity"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"State Comission"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"state-commission",name:"state-commission",onInput:function(e){e.target.value=e.target.value.toString().slice(0,4)},value:dt,onChange:function(e){return ot(e.target.value)},placeholder:"Enter State Comission"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"District Comission"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"district-commission",name:"district-commission",onInput:function(e){e.target.value=e.target.value.toString().slice(0,6)},value:xt,onChange:function(e){return pt(parseFloat(e.target.value))},placeholder:"Enter District Comission"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Block Comission"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"block-commission",name:"block-commission",onInput:function(e){e.target.value=e.target.value.toString().slice(0,6)},value:jt,onChange:function(e){return vt(parseFloat(e.target.value))},placeholder:"Enter BLock Comission"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Cluster Comission"}),(0,k.jsx)(x.Z,{fullWidth:!0,id:"cluster-commission",name:"cluster-commission",onInput:function(e){e.target.value=e.target.value.toString().slice(0,6)},value:St,onChange:function(e){return bt(parseFloat(e.target.value))},placeholder:"Enter cluster Comission"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Choose Category"}),(0,k.jsx)(p.Z,{id:"active",name:"active",value:ee,onChange:function(e){return te(e.target.value)},onBlur:function(e){return Dt.apply(this,arguments)},children:wt.map((function(e,t){return(0,k.jsx)(g.Z,{value:e.CategoryID,children:e.Name},t)}))},ee)]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:Ft.length>0?(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Sub Category"}),(0,k.jsx)(p.Z,{id:"mainVarient",name:"mainVarient",value:Ge,placeholder:"Select Sub Category",onChange:function(e){return He(e.target.value)},children:Ft.map((function(e,t){return(0,k.jsx)(g.Z,{value:e.SubCategoryID,children:e.Name},t)}))})]}):(0,k.jsx)(k.Fragment,{children:" "})}),(0,k.jsx)(h.ZP,{item:!0,xs:4,md:4,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Best Seller"}),(0,k.jsxs)(p.Z,{id:"best-seller",name:"best-seller",value:he,onChange:function(e){return me(e.target.value)},children:[(0,k.jsx)(g.Z,{value:"true",children:"True"}),(0,k.jsx)(g.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:4,md:4,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"New Arrival"}),(0,k.jsxs)(p.Z,{id:"new-arrival",name:"new-arrival",value:ge,onChange:function(e){return Ze(e.target.value)},children:[(0,k.jsx)(g.Z,{value:"true",children:"True"}),(0,k.jsx)(g.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:4,md:4,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Best Deal"}),(0,k.jsxs)(p.Z,{id:"best-deal",name:"best-deal",value:fe,onChange:function(e){return Ce(e.target.value)},children:[(0,k.jsx)(g.Z,{value:"true",children:"True"}),(0,k.jsx)(g.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Description"}),(0,k.jsx)(f(),{className:"quill-editor",size:"lg",theme:"snow",value:Pe,onChange:function(e,t,a,r){ye(e)}})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{required:!0,children:"Features"}),(0,k.jsx)(f(),{className:"quill-editor",size:"md",theme:"snow",value:Le,onChange:function(e,t,a,r){Oe(e)}})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{children:"Cover Image"}),(0,k.jsxs)("div",{className:"custom-file",children:[(0,k.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",value:ke,accept:"image/png, image/jpeg",onChange:function(e){D(e.target.files[0]),qe(e.target.value)}}),(0,k.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:ke})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:6,children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(u.Z,{children:"Choose Mutiple Image"}),(0,k.jsxs)("div",{className:"custom-file",children:[(0,k.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",multiple:!0,value:Ne,accept:"image/png, image/jpeg",onChange:function(e){A(e.target.files),Be(e.target.value)}}),(0,k.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:Ne})]})]})})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(h.ZP,{container:!0,spacing:d.dv,children:[(0,k.jsxs)(h.ZP,{item:!0,xs:4,md:4,children:[(0,k.jsx)(u.Z,{required:!0,children:"Cover Image"}),(0,k.jsx)(m.Z,{children:(0,k.jsx)("a",{href:"".concat(Me),target:"_blank",children:(0,k.jsx)("img",{src:"".concat(Me),width:200,height:200})})})]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",(0,k.jsxs)(h.ZP,{item:!0,xs:4,md:4,children:[(0,k.jsx)(u.Z,{required:!0,children:"Images"}),Te.map((function(e,t){return(0,k.jsx)(m.Z,{children:(0,k.jsx)("a",{href:e,target:"_blank",children:(0,k.jsx)("img",{src:e,width:200,height:200})},t)})}))]})]}),(0,k.jsx)("br",{}),(0,k.jsx)("center",{children:ne?(0,k.jsx)(Z.Z,{}):(0,k.jsx)(j.Z,{variant:"contained",onClick:function(e){return yt.apply(this,arguments)},children:"Update Product"})})]})})}}}]);
//# sourceMappingURL=4094.9560ce8f.chunk.js.map