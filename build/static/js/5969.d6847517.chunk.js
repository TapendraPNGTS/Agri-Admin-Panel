"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[5969],{5969:function(e,n,t){t.r(n);var r=t(93433),a=t(15861),i=t(29439),s=t(64687),u=t.n(s),l=t(72791),c=t(23735),d=t(62248),o=t(91923),h=t(57689),x=t(45953),p=t(94162),m=t(59911),Z=t(23057),j=t(35702),v=t(96580),f=t(61091),g=t(28249),b=t.n(g),y=(t(86009),t(2410)),C=t(65218),S=t(59434),P=t(91943),q=t(89698),w=t(48999),k=t(42893),I=t(80184);n.default=function(){var e=(0,h.s0)(),n=(0,S.I0)(),t=new y.Z,s=(0,l.useState)([]),g=(0,i.Z)(s,2),N=g[0],D=g[1],A=(0,l.useState)([]),F=(0,i.Z)(A,2),E=F[0],B=F[1],T=(0,l.useState)([]),W=(0,i.Z)(T,2),M=W[0],V=W[1],_=(0,l.useState)(),z=(0,i.Z)(_,2),K=z[0],L=z[1],O=l.useState(""),Q=(0,i.Z)(O,2),R=Q[0],X=Q[1],G=l.useState(""),H=(0,i.Z)(G,2),J=H[0],U=H[1],Y=l.useState(""),$=(0,i.Z)(Y,2),ee=$[0],ne=$[1],te=l.useState(!0),re=(0,i.Z)(te,2),ae=re[0],ie=re[1],se=(0,l.useState)(""),ue=(0,i.Z)(se,2),le=ue[0],ce=ue[1],de=(0,l.useState)(""),oe=(0,i.Z)(de,2),he=oe[0],xe=oe[1],pe=(0,l.useState)(""),me=(0,i.Z)(pe,2),Ze=me[0],je=me[1],ve=(0,l.useState)(!1),fe=(0,i.Z)(ve,2),ge=fe[0],be=fe[1],ye=l.useState(!1),Ce=(0,i.Z)(ye,2),Se=Ce[0],Pe=Ce[1],qe=l.useState(!1),we=(0,i.Z)(qe,2),ke=we[0],Ie=we[1],Ne=l.useState(!1),De=(0,i.Z)(Ne,2),Ae=De[0],Fe=De[1],Ee=l.useState(!1),Be=(0,i.Z)(Ee,2),Te=Be[0],We=Be[1],Me=l.useState(0),Ve=(0,i.Z)(Me,2),_e=Ve[0],ze=Ve[1],Ke=(0,l.useState)(),Le=(0,i.Z)(Ke,2),Oe=Le[0],Qe=Le[1],Re=l.useState(""),Xe=(0,i.Z)(Re,2),Ge=Xe[0],He=Xe[1];function Je(){return(Je=(0,a.Z)(u().mark((function n(r){var a,i,s,l,c,d;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(be(!0),r.preventDefault(),(i=new FormData).append("name",R),i.append("description",he),i.append("feature",Oe),i.append("price",J),i.append("categoryId",le),i.append("subCategoryId",Ge),i.append("quantity",ee),i.append("active",ae),sn.forEach((function(e,n){i.append("variant[".concat(n,"]"),e)})),i.append("img",N),s=0,l=Object.keys(M);s<l.length;s++)c=l[s],i.append("images",M[c]);return i.append("frenchisePrice",Ze),i.append("discount",Te),i.append("discountPrice",_e),i.append("isNew",ke),i.append("isBestSeller",Se),i.append("isBestDeal",Ae),n.next=22,t.addProduct(i);case 22:if(!(d=n.sent)||200!==(null===d||void 0===d||null===(a=d.data)||void 0===a?void 0:a.code)){n.next=28;break}C.Am.success("Added successsfully"),e("/product",{replace:!0}),n.next=29;break;case 28:return n.abrupt("return",C.Am.error("Something went wrong!"));case 29:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Ue=new P.Z,Ye=(0,S.v9)((function(e){return e.category.Category})),$e=(0,l.useCallback)((0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.getAllCategory();case 3:if((t=e.sent)&&t.data.data){e.next=8;break}return e.abrupt("return",C.Am.error("no available"));case 8:return n((0,q.wX)(t.data.data)),e.abrupt("return");case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),C.Am.error("Something went wrong"),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,12]])}))));(0,l.useEffect)((function(){$e()}),[]);var en=new w.Z,nn=(0,S.v9)((function(e){return e.subCategory.SubCategory}));function tn(){return(tn=(0,a.Z)(u().mark((function e(t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,en.getSubCategoryByCategoryId({categoryId:le});case 3:if(!(a=e.sent)||200!==(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.code)){e.next=8;break}return e.abrupt("return",n((0,k.Se)(a.data.data)));case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rn=(0,l.useState)([]),an=(0,i.Z)(rn,2),sn=an[0],un=an[1],ln=(0,l.useState)(""),cn=(0,i.Z)(ln,2),dn=cn[0],on=cn[1];return(0,I.jsx)(c.Z,{title:"Add Product",children:(0,I.jsxs)("form",{children:[(0,I.jsxs)(x.ZP,{container:!0,spacing:o.dv,children:[(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Product Name"}),(0,I.jsx)(m.Z,{fullWidth:!0,id:"product",inputProps:{maxLength:30},name:"product",value:R,onChange:function(e){return X(e.target.value)},placeholder:"Enter product name"})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Product Price"}),(0,I.jsx)(m.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:J,onChange:function(e){return U(e.target.value)},placeholder:"Enter product price"})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Franchise Price"}),(0,I.jsx)(m.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:Ze,onChange:function(e){return je(e.target.value)},placeholder:"Enter product price"})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Quantity"}),(0,I.jsx)(m.Z,{fullWidth:!0,id:"quantity",name:"quantity",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,3)},value:ee,onChange:function(e){return ne(e.target.value)},placeholder:"Enter quantity"})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Active"}),(0,I.jsxs)(Z.Z,{id:"active",name:"active",value:ae,onChange:function(e){return ie(e.target.value)},children:[(0,I.jsx)(j.Z,{value:"true",children:"True"}),(0,I.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Variant"}),(0,I.jsx)(m.Z,{fullWidth:!0,id:"quantity",name:"quantity",value:dn,onChange:function(e){on(e.target.value)},onKeyDown:function(e){("Enter"===e.key&&dn||" "===e.key)&&(un([].concat((0,r.Z)(sn),[dn.trim()])),on(""))}}),(0,I.jsx)("br",{}),(0,I.jsx)("div",{children:sn.map((function(e,n){return(0,I.jsxs)("span",{children:[(0,I.jsxs)("span",{onClick:function(){return function(e){un(sn.filter((function(n,t){return t!==e})))}(n)},style:{border:"1px solid",borderRadius:"5px"},children:["\xa0 ",e," ",(0,I.jsx)("span",{style:{color:"red"},children:"x"})," ","\xa0"]},n),"\xa0 \xa0"]})}))})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Choose Category"}),(0,I.jsx)(Z.Z,{id:"active",name:"active",value:le,onChange:function(e){return ce(e.target.value)},onBlur:function(e){return tn.apply(this,arguments)},children:Ye.map((function(e,n){return(0,I.jsx)(j.Z,{value:e.CategoryID,children:e.Name},n)}))})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Sub Category"}),(0,I.jsx)(Z.Z,{id:"mainVarient",name:"mainVarient",value:Ge,onChange:function(e){return He(e.target.value)},renderValue:""!==le?void 0:function(){return"--Select SubCategory--"},children:nn.map((function(e,n){return(0,I.jsx)(j.Z,{value:e.SubCategoryID,children:e.Name},n)}))})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Description"}),(0,I.jsx)(b(),{className:"quill-editor",size:"md",theme:"snow",value:he,onChange:function(e,n,t,r){xe(e)}})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Features"}),(0,I.jsx)(b(),{className:"quill-editor",size:"md",theme:"snow",value:Oe,onChange:function(e,n,t,r){Qe(e)}})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:4,md:4,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Best Seller"}),(0,I.jsxs)(Z.Z,{id:"best-seller",name:"best-seller",value:Se,onChange:function(e){return Pe(e.target.value)},children:[(0,I.jsx)(j.Z,{value:"true",children:"True"}),(0,I.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:4,md:4,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"New Arrival"}),(0,I.jsxs)(Z.Z,{id:"new-arrival",name:"new-arrival",value:ke,onChange:function(e){return Ie(e.target.value)},children:[(0,I.jsx)(j.Z,{value:"true",children:"True"}),(0,I.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:4,md:4,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Best Deal"}),(0,I.jsxs)(Z.Z,{id:"best-deal",name:"best-deal",value:Ae,onChange:function(e){return Fe(e.target.value)},children:[(0,I.jsx)(j.Z,{value:"true",children:"True"}),(0,I.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Discount"}),(0,I.jsxs)(Z.Z,{id:"discount",name:"discount",value:Te,onChange:function(e){return We(e.target.value)},children:[(0,I.jsx)(j.Z,{value:"true",children:"True"}),(0,I.jsx)(j.Z,{value:"false",children:"False"})]})]})}),Te?(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{required:!0,children:"Discount Price"}),(0,I.jsx)(m.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseFloat(e.target.value)).toString().slice(0,6)},type:"number",value:_e,onChange:function(e){return ze(e.target.value)},placeholder:"Enter product price"})]})}):(0,I.jsx)(I.Fragment,{})]}),(0,I.jsx)("br",{}),(0,I.jsxs)(x.ZP,{container:!0,spacing:o.dv,children:[(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{children:"Choose Thumbnail Image"}),(0,I.jsxs)("div",{className:"custom-file",children:[(0,I.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",accept:"image/png, image/jpeg",onChange:function(e){D(e.target.files[0]),B(e.target.value)},value:E,required:!0}),(0,I.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:E})]})]})}),(0,I.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,I.jsxs)(p.Z,{children:[(0,I.jsx)(d.Z,{children:"Choose Multiple Image"}),(0,I.jsxs)("div",{className:"custom-file",children:[(0,I.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",multiple:!0,accept:"image/png, image/jpeg",onChange:function(e){V(e.target.files),L(e.target.value)},value:K,required:!0}),(0,I.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:K})]})]})})]}),(0,I.jsx)("br",{}),(0,I.jsx)("center",{children:ge?(0,I.jsx)(v.Z,{}):(0,I.jsx)(f.Z,{variant:"contained",onClick:function(e){return Je.apply(this,arguments)},children:"Add Product"})})]})})}}}]);
//# sourceMappingURL=5969.d6847517.chunk.js.map