"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[4094],{62248:function(e,t,n){var a=n(45987),r=n(1413),i=n(60277),o=n(40508),c=n(80184),s=["children","horizontal"],d=(0,i.ZP)((function(e){return(0,c.jsx)(o.Z,(0,r.Z)({},e))}),{shouldForwardProp:function(e){return"horizontal"!==e}})((function(e){var t=e.theme,n=e.horizontal;return{color:t.palette.text.primary,fontWeight:500,marginBottom:n?0:8}})),u=function(e){var t=e.children,n=e.horizontal,i=(0,a.Z)(e,s);return(0,c.jsx)(d,(0,r.Z)((0,r.Z)({horizontal:n},i),{},{children:t}))};u.defaultProps={horizontal:!1},t.Z=u},54094:function(e,t,n){n.r(t);var a=n(29439),r=n(72791),i=n(23735),o=n(62248),c=n(91923),s=n(57689),d=n(75985),u=n(45953),l=n(94162),h=n(59911),p=n(15172),m=n(35702),g=n(96580),f=n(17205),x=n(80184);t.default=function(){var e=(0,s.UO)(),t=(0,s.s0)(),n=(0,r.useState)(),Z=(0,a.Z)(n,2),j=Z[0],v=Z[1],P=r.useState(""),y=(0,a.Z)(P,2),S=y[0],I=y[1],w=r.useState(""),C=(0,a.Z)(w,2),k=C[0],b=C[1],z=r.useState(""),q=(0,a.Z)(z,2),O=q[0],H=q[1],T=r.useState([]),A=(0,a.Z)(T,2),E=A[0],N=A[1],B=r.useState([]),F=(0,a.Z)(B,2),U=F[0],V=F[1],J=r.useState(!0),_=(0,a.Z)(J,2),R=_[0],W=_[1],D=(0,r.useState)(!1),G=(0,a.Z)(D,2),Q=G[0],X=G[1],Y=(0,r.useState)(""),M=(0,a.Z)(Y,2),L=M[0],K=M[1],$=new Headers;return $.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),$.append("Authorization","Bearer "+localStorage.getItem("token")),$.append("Content-Type","application/json"),r.useEffect((function(){!function(){var t=JSON.stringify({adminId:localStorage.getItem("userId"),productId:e.id}),n={method:"POST",headers:$,body:t,redirect:"follow"};fetch("".concat("https://agri-admin-api.ankitchawda.in/api/v1/","getProductById"),n).then((function(e){return e.json()})).then((function(e){I(e.data.Name),W(e.data.IsActive),b(e.data.Price),N(e.data.Images),H(e.data.Quantity)})).catch((function(e){return console.log("error",e)}))}()}),[]),(0,r.useEffect)((function(){!function(){var e=new Headers;e.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),e.append("Authorization","Bearer "+localStorage.getItem("token")),e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify({adminId:localStorage.getItem("userId")}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ankitchawda.in/api/v1/","getAllCategory"),t).then((function(e){return e.json()})).then((function(e){V(e.data)})).catch((function(e){return console.log("error",e)}))}()}),[]),(0,x.jsx)(i.Z,{title:"Edit Product",children:(0,x.jsxs)("form",{action:"#",onSubmit:function(n){n.preventDefault(),X(!0);var a=new Headers;a.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),a.append("Authorization","Bearer "+localStorage.getItem("token"));var r=new FormData;r.append("adminId",localStorage.getItem("userId")),r.append("productId",e.id),r.append("name",S),r.append("active",R),r.append("price",k),r.append("quantity",O),r.append("categoryId",L),r.append("img",j);var i={method:"POST",headers:a,body:r,redirect:"follow"};fetch("".concat("https://agri-admin-api.ankitchawda.in/api/v1/","updateProduct"),i).then((function(e){return e.json()})).then((function(e){200===e.code?(t("/product"),d.Am.success("Updated Successfully",{position:d.Am.POSITION.TOP_CENTER,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})):X(!1)})).catch((function(e){}))},children:[(0,x.jsxs)(u.ZP,{container:!0,spacing:c.dv,children:[(0,x.jsx)(u.ZP,{item:!0,xs:6,md:6,children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(o.Z,{required:!0,children:"Product Name"}),(0,x.jsx)(h.Z,{fullWidth:!0,id:"category",name:"category",inputProps:{maxLength:30},value:S,onChange:function(e){return I(e.target.value)},placeholder:"Enter category title"})]})}),(0,x.jsx)(u.ZP,{item:!0,xs:6,md:6,children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(o.Z,{required:!0,children:"Active"}),(0,x.jsxs)(p.Z,{id:"active",name:"active",value:R,onChange:function(e){return W(e.target.value)},children:[(0,x.jsx)(m.Z,{value:"true",children:"True"}),(0,x.jsx)(m.Z,{value:"false",children:"False"})]})]})}),(0,x.jsx)(u.ZP,{item:!0,xs:6,md:6,children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(o.Z,{required:!0,children:"Product Price"}),(0,x.jsx)(h.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:k,onChange:function(e){return b(e.target.value)},placeholder:"Enter Price"})]})}),(0,x.jsx)(u.ZP,{item:!0,xs:6,md:6,children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(o.Z,{required:!0,children:"Product Quantity"}),(0,x.jsx)(h.Z,{fullWidth:!0,id:"quantity",name:"quantity",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,3)},value:O,onChange:function(e){return H(e.target.value)},placeholder:"Enter Quantity"})]})}),(0,x.jsx)(u.ZP,{item:!0,xs:6,md:6,children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(o.Z,{required:!0,children:"Choose Category"}),(0,x.jsx)(p.Z,{id:"active",name:"active",value:L,onChange:function(e){return K(e.target.value)},children:U.map((function(e,t){return(0,x.jsx)(m.Z,{value:e.CategoryID,children:e.Name},t)}))})]})}),(0,x.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(o.Z,{children:"Choose ThumbnailImage"}),(0,x.jsxs)("div",{class:"custom-file",children:[(0,x.jsx)("input",{type:"file",class:"custom-file-input",id:"thumbnail",accept:"image/png, image/jpeg",onChange:function(e){v(e.target.files[0])}}),(0,x.jsx)("label",{class:"custom-file-label",for:"thumbnail",children:"Choose file"})]})]})})]}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(u.ZP,{container:!0,spacing:c.dv,children:E.map((function(e,t){u.ZP,o.Z,l.Z,"".concat("https://m2i-training.s3.ap-south-1.amazonaws.com/").concat(e),"".concat("https://m2i-training.s3.ap-south-1.amazonaws.com/").concat(e)}))}),(0,x.jsx)("br",{}),(0,x.jsx)("center",{children:Q?(0,x.jsx)(g.Z,{}):(0,x.jsx)(f.Z,{variant:"contained",type:"submit",children:"Update Product"})})]})})}}}]);
//# sourceMappingURL=4094.36e143b9.chunk.js.map