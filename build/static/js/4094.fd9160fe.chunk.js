"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[4094],{54094:function(e,t,r){r.r(t);var a=r(93433),n=r(15861),i=r(29439),s=r(64687),u=r.n(s),c=r(72791),l=r(23735),d=r(62248),o=r(91923),h=r(57689),x=r(45953),p=r(94162),m=r(59911),Z=r(23057),j=r(35702),g=r(96580),v=r(61091),f=r(28249),b=r.n(f),y=(r(86009),r(65218)),C=r(2410),S=r(91943),P=r(89698),w=r(59434),I=r(48999),k=r(42893),q=r(80184);t.default=function(){var e=(0,h.UO)(),t=(0,h.s0)(),r=new C.Z,s=(0,w.I0)(),f=(0,c.useState)([]),D=(0,i.Z)(f,2),N=D[0],A=D[1],F=(0,c.useState)([]),E=(0,i.Z)(F,2),B=E[0],W=E[1],_=c.useState(""),M=(0,i.Z)(_,2),T=M[0],V=M[1],Q=c.useState(""),z=(0,i.Z)(Q,2),O=z[0],U=z[1],K=c.useState(""),L=(0,i.Z)(K,2),R=L[0],X=L[1],G=c.useState(!0),H=(0,i.Z)(G,2),J=H[0],Y=H[1],$=(0,c.useState)(),ee=(0,i.Z)($,2),te=ee[0],re=ee[1],ae=(0,c.useState)(!1),ne=(0,i.Z)(ae,2),ie=ne[0],se=ne[1],ue=(0,c.useState)(""),ce=(0,i.Z)(ue,2),le=ce[0],de=ce[1],oe=c.useState(!1),he=(0,i.Z)(oe,2),xe=he[0],pe=he[1],me=c.useState(!1),Ze=(0,i.Z)(me,2),je=Ze[0],ge=Ze[1],ve=c.useState(!1),fe=(0,i.Z)(ve,2),be=fe[0],ye=fe[1],Ce=c.useState(!1),Se=(0,i.Z)(Ce,2),Pe=Se[0],we=Se[1],Ie=c.useState(0),ke=(0,i.Z)(Ie,2),qe=ke[0],De=ke[1],Ne=(0,c.useState)(""),Ae=(0,i.Z)(Ne,2),Fe=Ae[0],Ee=Ae[1],Be=(0,c.useState)([]),We=(0,i.Z)(Be,2),_e=We[0],Me=We[1],Te=(0,c.useState)(),Ve=(0,i.Z)(Te,2),Qe=Ve[0],ze=Ve[1],Oe=c.useState(""),Ue=(0,i.Z)(Oe,2),Ke=Ue[0],Le=Ue[1],Re=c.useState([]),Xe=(0,i.Z)(Re,2),Ge=Xe[0],He=Xe[1],Je=(0,c.useState)(),Ye=(0,i.Z)(Je,2),$e=Ye[0],et=Ye[1],tt=c.useState(""),rt=(0,i.Z)(tt,2),at=rt[0],nt=rt[1],it=(0,c.useCallback)((0,n.Z)(u().mark((function t(){var a,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.getProductById({productId:e.id});case 3:if(!(n=t.sent)||200!==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.code)){t.next=24;break}V(n.data.data.Name),re(n.data.data.CategoryID.CategoryID),V(n.data.data.Name),Y(n.data.data.IsActive),U(n.data.data.Price),X(n.data.data.Quantity),we(n.data.data.Discount),de(n.data.data.FrenchisePrice),Le(n.data.data.CoverImage),He(n.data.data.Images),pe(n.data.data.isBestSeller),ye(n.data.data.IsBestDeal),ge(n.data.data.IsNewArrival),De(n.data.data.DiscountPrice),Ee(n.data.data.Description),et(n.data.data.feature),Zt(n.data.data.Variants),t.next=25;break;case 24:return t.abrupt("return",y.Am.error("Something went wrong!"));case 25:t.next=32;break;case 27:throw t.prev=27,t.t0=t.catch(0),console.error(t.t0),y.Am.error("Something went wrong"),t.t0;case 32:case"end":return t.stop()}}),t,null,[[0,27]])}))));function st(){return(st=(0,n.Z)(u().mark((function a(n){var i,s,c,l,d,o;return u().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(se(!0),n.preventDefault(),(s=new FormData).append("adminId",localStorage.getItem("userId")),s.append("productId",e.id),s.append("name",T),s.append("active",J),s.append("price",O),s.append("quantity",R),s.append("feature",$e),s.append("description",Fe),s.append("categoryId",te),mt.forEach((function(e,t){s.append("variant[".concat(t,"]"),e)})),s.append("subCategoryId",at),s.append("img",N),c=0,l=Object.keys(B);c<l.length;c++)d=l[c],s.append("images",B[d]);return s.append("frenchisePrice",le),s.append("discount",Pe),s.append("discountPrice",qe),s.append("isNew",je),s.append("isBestSeller",xe),s.append("isBestDeal",be),a.next=24,r.editProduct(s);case 24:if(!(o=a.sent)||200!==(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.code)){a.next=30;break}y.Am.success("Added successsfully"),t("/product",{replace:!0}),a.next=31;break;case 30:return a.abrupt("return",y.Am.error("Something went wrong!"));case 31:case"end":return a.stop()}}),a)})))).apply(this,arguments)}c.useEffect((function(){it()}),[]);var ut=new S.Z,ct=(0,w.v9)((function(e){return e.category.Category})),lt=(0,c.useCallback)((0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut.getAllCategory();case 3:if((t=e.sent)&&t.data.data){e.next=8;break}return e.abrupt("return",y.Am.error("no available"));case 8:return s((0,P.wX)(t.data.data)),e.abrupt("return");case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),y.Am.error("Something went wrong"),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,12]])}))));(0,c.useEffect)((function(){lt()}),[]);var dt=new I.Z,ot=(0,w.v9)((function(e){return e.subCategory.SubCategory}));function ht(){return(ht=(0,n.Z)(u().mark((function e(t){var r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,dt.getSubCategoryByCategoryId({categoryId:te});case 3:if(!(a=e.sent)||200!==(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.code)){e.next=8;break}return e.abrupt("return",s((0,k.Se)(a.data.data)));case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xt=(0,c.useState)([]),pt=(0,i.Z)(xt,2),mt=pt[0],Zt=pt[1],jt=(0,c.useState)(""),gt=(0,i.Z)(jt,2),vt=gt[0],ft=gt[1];return(0,q.jsx)(l.Z,{title:"Edit Product",children:(0,q.jsxs)("form",{children:[(0,q.jsxs)(x.ZP,{container:!0,spacing:o.dv,children:[(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Product Name"}),(0,q.jsx)(m.Z,{fullWidth:!0,id:"category",name:"category",inputProps:{maxLength:30},value:T,onChange:function(e){return V(e.target.value)},placeholder:"Enter category title"})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Active"}),(0,q.jsxs)(Z.Z,{id:"active",name:"active",value:J,onChange:function(e){return Y(e.target.value)},children:[(0,q.jsx)(j.Z,{value:"true",children:"True"}),(0,q.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Product Price"}),(0,q.jsx)(m.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:O,onChange:function(e){return U(e.target.value)},placeholder:"Enter Price"})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Franchise Price"}),(0,q.jsx)(m.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:le,onChange:function(e){return de(e.target.value)},placeholder:"Enter product price"})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Variant"}),(0,q.jsx)(m.Z,{fullWidth:!0,id:"quantity",name:"quantity",value:vt,onChange:function(e){ft(e.target.value)},onKeyDown:function(e){("Enter"===e.key&&vt||" "===e.key)&&(Zt([].concat((0,a.Z)(mt),[vt.trim()])),ft(""))}}),(0,q.jsx)("br",{}),(0,q.jsx)("div",{children:mt.map((function(e,t){return(0,q.jsxs)("span",{children:[(0,q.jsxs)("span",{onClick:function(){return function(e){Zt(mt.filter((function(t,r){return r!==e})))}(t)},style:{border:"1px solid",borderRadius:"5px"},children:["\xa0 ",e," ",(0,q.jsx)("span",{style:{color:"red"},children:"x"})," ","\xa0"]},t),"\xa0 \xa0"]})}))})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Product Quantity"}),(0,q.jsx)(m.Z,{fullWidth:!0,id:"quantity",name:"quantity",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,3)},value:R,onChange:function(e){return X(e.target.value)},placeholder:"Enter Quantity"})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Choose Category"}),(0,q.jsx)(Z.Z,{id:"active",name:"active",value:te,onChange:function(e){return re(e.target.value)},onBlur:function(e){return ht.apply(this,arguments)},children:ct.map((function(e,t){return(0,q.jsx)(j.Z,{value:e.CategoryID,children:e.Name},t)}))},te)]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Sub Category"}),(0,q.jsx)(Z.Z,{id:"mainVarient",name:"mainVarient",value:te,onChange:function(e){return nt(e.target.value)},renderValue:""!==te?void 0:function(){return"--Select SubCategory--"},children:ot.map((function(e,t){return(0,q.jsx)(j.Z,{value:e.SubCategoryID,children:e.Name},t)}))})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:4,md:4,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Best Seller"}),(0,q.jsxs)(Z.Z,{id:"best-seller",name:"best-seller",value:xe,onChange:function(e){return pe(e.target.value)},children:[(0,q.jsx)(j.Z,{value:"true",children:"True"}),(0,q.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:4,md:4,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"New Arrival"}),(0,q.jsxs)(Z.Z,{id:"new-arrival",name:"new-arrival",value:je,onChange:function(e){return ge(e.target.value)},children:[(0,q.jsx)(j.Z,{value:"true",children:"True"}),(0,q.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:4,md:4,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Best Deal"}),(0,q.jsxs)(Z.Z,{id:"best-deal",name:"best-deal",value:be,onChange:function(e){return ye(e.target.value)},children:[(0,q.jsx)(j.Z,{value:"true",children:"True"}),(0,q.jsx)(j.Z,{value:"false",children:"False"})]})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Description"}),(0,q.jsx)(b(),{className:"quill-editor",size:"lg",theme:"snow",value:Fe,onChange:function(e,t,r,a){Ee(e)}})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:12,md:12,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Features"}),(0,q.jsx)(b(),{className:"quill-editor",size:"md",theme:"snow",value:$e,onChange:function(e,t,r,a){et(e)}})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Discount"}),(0,q.jsxs)(Z.Z,{id:"discount",name:"discount",value:Pe,onChange:function(e){return we(e.target.value)},children:[(0,q.jsx)(j.Z,{value:"true",children:"True"}),(0,q.jsx)(j.Z,{value:"false",children:"False"})]},Pe)]})}),Pe?(0,q.jsx)(x.ZP,{item:!0,xs:6,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{required:!0,children:"Discount Percent"}),(0,q.jsx)(m.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseFloat(e.target.value)).toString().slice(0,2)},type:"number",value:qe,onChange:function(e){return De(e.target.value)},placeholder:"Enter product price"})]})}):(0,q.jsx)(q.Fragment,{}),(0,q.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{children:"Cover Image"}),(0,q.jsxs)("div",{className:"custom-file",children:[(0,q.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",value:_e,accept:"image/png, image/jpeg",onChange:function(e){A(e.target.files[0]),Me(e.target.value)}}),(0,q.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:_e})]})]})}),(0,q.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(d.Z,{children:"Choose Mutiple Image"}),(0,q.jsxs)("div",{className:"custom-file",children:[(0,q.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",multiple:!0,value:Qe,accept:"image/png, image/jpeg",onChange:function(e){W(e.target.files),ze(e.target.value)}}),(0,q.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:Qe})]})]})})]}),(0,q.jsx)("br",{}),(0,q.jsxs)(x.ZP,{container:!0,spacing:o.dv,children:[(0,q.jsxs)(x.ZP,{item:!0,xs:4,md:4,children:[(0,q.jsx)(d.Z,{required:!0,children:"Cover Image"}),(0,q.jsx)(p.Z,{children:(0,q.jsx)("a",{href:"".concat(Ke),target:"_blank",children:(0,q.jsx)("img",{src:"".concat(Ke),width:200,height:200})})})]}),(0,q.jsxs)(x.ZP,{item:!0,xs:4,md:4,children:[(0,q.jsx)(d.Z,{required:!0,children:"Images"}),Ge.map((function(e,t){return(0,q.jsx)(p.Z,{children:(0,q.jsx)("a",{href:e,target:"_blank",children:(0,q.jsx)("img",{src:e,width:200,height:200})},t)})}))]})]}),(0,q.jsx)("br",{}),(0,q.jsx)("center",{children:ie?(0,q.jsx)(g.Z,{}):(0,q.jsx)(v.Z,{variant:"contained",onClick:function(e){return st.apply(this,arguments)},children:"Update Product"})})]})})}}}]);
//# sourceMappingURL=4094.fd9160fe.chunk.js.map