"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[714],{48714:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var a=t(29439),r=t(72791),i=t(56650),s=t(21680),c=t(19773),o=t(24390),l=t(69963),d=t(9827),h=t(27669),u=t(60807),p=t(48928),g=t(62062),x=t.n(g),f=t(42419),j=t(59911),Z=t(41286),m=t(27247),v=t(45953),w=t(17205),k=t(91923),b=t(23735),y=t(73978),I=t(75985),C=t(4565),P=t(94162),S=t(75814),z=t(13811),H=t(57689),B=t(80184);function O(){var e=(0,H.s0)(),n=r.useState(0),t=(0,a.Z)(n,2),g=t[0],O=t[1],A=(0,r.useState)(""),T=(0,a.Z)(A,2),V=T[0],M=T[1],E=r.useState(10),N=(0,a.Z)(E,2),_=N[0],D=N[1],L=(0,r.useState)(""),F=(0,a.Z)(L,2),J=F[0],R=F[1];function q(){var e=new Headers;e.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),e.append("Authorization","Bearer "+localStorage.getItem("token")),e.append("Content-Type","application/json");var n={method:"POST",headers:e,body:JSON.stringify({adminId:localStorage.getItem("userId")}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ankitchawda.in/api/v1/","getAllBanner"),n).then((function(e){return e.json()})).then((function(e){R(e.data)})).catch((function(e){return console.log("error",e)}))}(0,r.useEffect)((function(){q()}),[]),(0,r.useEffect)((function(){}),[J]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(j.Z,{id:"outlined-search",label:"Search field",type:"search",onChange:function(e){M(e.target.value)}}),(0,B.jsx)(b.Z,{title:(0,B.jsxs)(v.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:k.dv,children:[(0,B.jsx)(v.ZP,{item:!0,children:(0,B.jsx)(C.Z,{variant:"h3",children:"Banner"})}),(0,B.jsx)(v.ZP,{item:!0,children:(0,B.jsx)(w.Z,{variant:"outlined",onClick:function(n){e("/add-banner")},startIcon:(0,B.jsx)(f.Z,{}),children:"Add Banner"})})]}),content:!1,children:J?(0,B.jsxs)(p.Z,{children:[(0,B.jsx)(v.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:k.dv,children:(0,B.jsx)(v.ZP,{item:!0})}),(0,B.jsxs)(i.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,B.jsx)(l.Z,{sx:{maxHeight:540},children:(0,B.jsxs)(s.Z,{stickyHeader:!0,"aria-label":"sticky table",id:"my-table",children:[(0,B.jsx)(d.Z,{children:(0,B.jsxs)(u.Z,{children:[(0,B.jsx)(o.Z,{sx:{pl:3},children:"S. No."}),(0,B.jsx)(o.Z,{children:"Banner Image"}),(0,B.jsx)(o.Z,{align:"center",sx:{pr:3},children:"Actions"})]})}),(0,B.jsx)(c.Z,{children:J.filter((function(e){return""===V?e:e.Title.toLowerCase().includes(V.toLowerCase())})).slice(g*_,g*_+_).map((function(n,t){return(0,B.jsxs)(u.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,B.jsx)(o.Z,{sx:{pl:3},align:"start",children:t+1}),(0,B.jsx)(o.Z,{align:"start",children:(0,B.jsx)("a",{href:"".concat("https://m2i-training.s3.ap-south-1.amazonaws.com/").concat(n.Image),target:"_blank",children:(0,B.jsx)(y.Z,{alt:"M21",src:"".concat("https://m2i-training.s3.ap-south-1.amazonaws.com/").concat(n.Image),sx:{width:50,height:50}})})}),(0,B.jsx)(o.Z,{align:"center",sx:{pr:3},children:(0,B.jsxs)(P.Z,{direction:"row",justifyContent:"center",alignItems:"center",children:[(0,B.jsx)(S.Z,{placement:"top",title:"Edit",onClick:function(t){e("/edit-banner/".concat(n.BannerID))},"data-target":"#",children:(0,B.jsx)(z.Z,{color:"primary","aria-label":"edit",size:"large",children:(0,B.jsx)(Z.Z,{sx:{fontSize:"1.1rem"}})})}),(0,B.jsx)(S.Z,{placement:"top",title:"delete",onClick:(a="".concat(n.BannerID),function(){x()({title:"Are you sure want to delete?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){if(e){I.Am.success("Deleted Successfully",{position:I.Am.POSITION.TOP_CENTER,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var n=new Headers;n.append("authkey","U2FsdGVkX181RweCpsqYzwZH1wozHJS1o4d3VixgPks="),n.append("Authorization","Bearer "+localStorage.getItem("token")),n.append("Content-Type","application/json");var t={method:"POST",headers:n,body:JSON.stringify({adminId:localStorage.getItem("userId"),bannerId:a}),redirect:"follow"};fetch("".concat("https://agri-admin-api.ankitchawda.in/api/v1/","deleteBanner"),t).then((function(e){return e.text()})).then((function(e){q()})).catch((function(e){return console.log("error",e)}))}}))}),children:(0,B.jsx)(z.Z,{color:"primary","aria-label":"edit",size:"large",children:(0,B.jsx)(m.Z,{sx:{fontSize:"1.1rem"}})})})]})})]},n.code);var a}))})]})}),(0,B.jsx)(h.Z,{rowsPerPageOptions:[10,20,100],component:"div",count:J.length,rowsPerPage:_,page:g,onPageChange:function(e,n){O(n)},onRowsPerPageChange:function(e){D(+e.target.value),O(0)}})]})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("br",{}),(0,B.jsx)("h5",{className:"text-center",children:"Please Wait Data Loading..."})]})})]})}},42419:function(e,n,t){var a=t(64836);n.Z=void 0;var r=a(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=s},27247:function(e,n,t){var a=t(64836);n.Z=void 0;var r=a(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s},41286:function(e,n,t){var a=t(64836);n.Z=void 0;var r=a(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=s}}]);
//# sourceMappingURL=714.4aa8a424.chunk.js.map