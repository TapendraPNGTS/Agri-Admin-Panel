"use strict";(self.webpackChunkmy_agri_input=self.webpackChunkmy_agri_input||[]).push([[4094],{54094:function(e,t,a){a.r(t);a(93433);var r=a(15861),n=a(29439),i=a(64687),s=a.n(i),u=a(72791),c=a(23735),l=a(62248),d=a(91923),o=a(57689),h=a(45953),x=a(94162),p=a(59911),m=a(23057),Z=a(35702),g=a(96580),j=a(61091),v=(a(53540),a(28249)),f=a.n(v),b=(a(86009),a(65218)),S=a(2410),y=a(91943),C=a(89698),P=a(59434),w=a(48999),I=a(42893),k=a(80184);t.default=function(){var e=(0,o.UO)(),t=(0,o.s0)(),a=new S.Z,i=(0,P.I0)(),v=(0,u.useState)([]),q=(0,n.Z)(v,2),D=q[0],N=q[1],A=(0,u.useState)([]),F=(0,n.Z)(A,2),B=F[0],E=F[1],_=u.useState(""),M=(0,n.Z)(_,2),T=M[0],W=M[1],V=u.useState(""),Q=(0,n.Z)(V,2),z=Q[0],O=Q[1],U=u.useState(""),L=(0,n.Z)(U,2),X=L[0],G=L[1],H=u.useState(!0),J=(0,n.Z)(H,2),K=J[0],R=J[1],Y=(0,u.useState)(),$=(0,n.Z)(Y,2),ee=$[0],te=$[1],ae=(0,u.useState)(!1),re=(0,n.Z)(ae,2),ne=re[0],ie=re[1],se=(0,u.useState)(""),ue=(0,n.Z)(se,2),ce=ue[0],le=ue[1],de=u.useState(!1),oe=(0,n.Z)(de,2),he=oe[0],xe=oe[1],pe=u.useState(!1),me=(0,n.Z)(pe,2),Ze=me[0],ge=me[1],je=u.useState(!1),ve=(0,n.Z)(je,2),fe=ve[0],be=ve[1],Se=u.useState(!1),ye=(0,n.Z)(Se,2),Ce=ye[0],Pe=ye[1],we=u.useState(0),Ie=(0,n.Z)(we,2),ke=Ie[0],qe=Ie[1],De=(0,u.useState)(""),Ne=(0,n.Z)(De,2),Ae=Ne[0],Fe=Ne[1],Be=(0,u.useState)([]),Ee=(0,n.Z)(Be,2),_e=Ee[0],Me=Ee[1],Te=(0,u.useState)(),We=(0,n.Z)(Te,2),Ve=We[0],Qe=We[1],ze=u.useState(""),Oe=(0,n.Z)(ze,2),Ue=Oe[0],Le=Oe[1],Xe=u.useState([]),Ge=(0,n.Z)(Xe,2),He=Ge[0],Je=Ge[1],Ke=(0,u.useState)(),Re=(0,n.Z)(Ke,2),Ye=Re[0],$e=Re[1],et=u.useState(""),tt=(0,n.Z)(et,2),at=tt[0],rt=tt[1],nt=(0,u.useCallback)((0,r.Z)(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.getProductById({productId:e.id});case 3:if(!(n=t.sent)||200!==(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.code)){t.next=24;break}W(n.data.data.Name),te(n.data.data.CategoryID.CategoryID),W(n.data.data.Name),R(n.data.data.IsActive),O(n.data.data.Price),G(n.data.data.Quantity),Pe(n.data.data.Discount),le(n.data.data.FrenchisePrice),Le(n.data.data.CoverImage),Je(n.data.data.Images),xe(n.data.data.isBestSeller),be(n.data.data.IsBestDeal),ge(n.data.data.IsNewArrival),qe(n.data.data.DiscountPrice),Fe(n.data.data.Description),$e(n.data.data.feature),mt(n.data.data.Variants),t.next=25;break;case 24:return t.abrupt("return",b.Am.error("Something went wrong!"));case 25:t.next=32;break;case 27:throw t.prev=27,t.t0=t.catch(0),console.error(t.t0),b.Am.error("Something went wrong"),t.t0;case 32:case"end":return t.stop()}}),t,null,[[0,27]])}))));function it(){return(it=(0,r.Z)(s().mark((function r(n){var i,u,c,l,d,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(ie(!0),n.preventDefault(),(u=new FormData).append("adminId",localStorage.getItem("userId")),u.append("productId",e.id),u.append("name",T),u.append("active",K),u.append("price",z),u.append("quantity",X),u.append("feature",Ye),u.append("description",Ae),u.append("categoryId",ee),pt.forEach((function(e,t){u.append("variant[".concat(t,"]"),e)})),u.append("subCategoryId",at),u.append("img",D),c=0,l=Object.keys(B);c<l.length;c++)d=l[c],u.append("images",B[d]);return u.append("frenchisePrice",ce),u.append("discount",Ce),u.append("discountPrice",ke),u.append("isNew",Ze),u.append("isBestSeller",he),u.append("isBestDeal",fe),r.next=24,a.editProduct(u);case 24:if(!(o=r.sent)||200!==(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.code)){r.next=30;break}b.Am.success("Added successsfully"),t("/product",{replace:!0}),r.next=31;break;case 30:return r.abrupt("return",b.Am.error("Something went wrong!"));case 31:case"end":return r.stop()}}),r)})))).apply(this,arguments)}u.useEffect((function(){nt()}),[]);var st=new y.Z,ut=(0,P.v9)((function(e){return e.category.Category})),ct=(0,u.useCallback)((0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getAllCategory();case 3:if((t=e.sent)&&t.data.data){e.next=8;break}return e.abrupt("return",b.Am.error("no available"));case 8:return i((0,C.wX)(t.data.data)),e.abrupt("return");case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),b.Am.error("Something went wrong"),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,12]])}))));(0,u.useEffect)((function(){ct()}),[]);var lt=new w.Z,dt=(0,P.v9)((function(e){return e.subCategory.SubCategory}));function ot(){return(ot=(0,r.Z)(s().mark((function e(t){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,lt.getSubCategoryByCategoryId({categoryId:ee});case 3:if(!(r=e.sent)||200!==(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.code)){e.next=8;break}return e.abrupt("return",i((0,I.Se)(r.data.data)));case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ht=(0,u.useState)([]),xt=(0,n.Z)(ht,2),pt=xt[0],mt=xt[1],Zt=(0,u.useState)(""),gt=(0,n.Z)(Zt,2);return gt[0],gt[1],(0,k.jsx)(c.Z,{title:"Edit Product",children:(0,k.jsxs)("form",{children:[(0,k.jsxs)(h.ZP,{container:!0,spacing:d.dv,children:[(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Product Name"}),(0,k.jsx)(p.Z,{fullWidth:!0,id:"category",name:"category",inputProps:{maxLength:30},value:T,onChange:function(e){return W(e.target.value)},placeholder:"Enter category title"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Active"}),(0,k.jsxs)(m.Z,{id:"active",name:"active",value:K,onChange:function(e){return R(e.target.value)},children:[(0,k.jsx)(Z.Z,{value:"true",children:"True"}),(0,k.jsx)(Z.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Product Price"}),(0,k.jsx)(p.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:z,onChange:function(e){return O(e.target.value)},placeholder:"Enter Price"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Franchise Price"}),(0,k.jsx)(p.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,6)},type:"number",value:ce,onChange:function(e){return le(e.target.value)},placeholder:"Enter product price"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Product Quantity"}),(0,k.jsx)(p.Z,{fullWidth:!0,id:"quantity",name:"quantity",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,3)},value:X,onChange:function(e){return G(e.target.value)},placeholder:"Enter Quantity"})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Choose Category"}),(0,k.jsx)(m.Z,{id:"active",name:"active",value:ee,onChange:function(e){return te(e.target.value)},onBlur:function(e){return ot.apply(this,arguments)},children:ut.map((function(e,t){return(0,k.jsx)(Z.Z,{value:e.CategoryID,children:e.Name},t)}))},ee)]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Sub Category"}),(0,k.jsx)(m.Z,{id:"mainVarient",name:"mainVarient",value:ee,onChange:function(e){return rt(e.target.value)},renderValue:""!==ee?void 0:function(){return"--Select SubCategory--"},children:dt.map((function(e,t){return(0,k.jsx)(Z.Z,{value:e.SubCategoryID,children:e.Name},t)}))})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:4,md:4,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Best Seller"}),(0,k.jsxs)(m.Z,{id:"best-seller",name:"best-seller",value:he,onChange:function(e){return xe(e.target.value)},children:[(0,k.jsx)(Z.Z,{value:"true",children:"True"}),(0,k.jsx)(Z.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:4,md:4,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"New Arrival"}),(0,k.jsxs)(m.Z,{id:"new-arrival",name:"new-arrival",value:Ze,onChange:function(e){return ge(e.target.value)},children:[(0,k.jsx)(Z.Z,{value:"true",children:"True"}),(0,k.jsx)(Z.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:4,md:4,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Best Deal"}),(0,k.jsxs)(m.Z,{id:"best-deal",name:"best-deal",value:fe,onChange:function(e){return be(e.target.value)},children:[(0,k.jsx)(Z.Z,{value:"true",children:"True"}),(0,k.jsx)(Z.Z,{value:"false",children:"False"})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Description"}),(0,k.jsx)(f(),{className:"quill-editor",size:"lg",theme:"snow",value:Ae,onChange:function(e,t,a,r){Fe(e)}})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Features"}),(0,k.jsx)(f(),{className:"quill-editor",size:"md",theme:"snow",value:Ye,onChange:function(e,t,a,r){$e(e)}})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Discount"}),(0,k.jsxs)(m.Z,{id:"discount",name:"discount",value:Ce,onChange:function(e){return Pe(e.target.value)},children:[(0,k.jsx)(Z.Z,{value:"true",children:"True"}),(0,k.jsx)(Z.Z,{value:"false",children:"False"})]},Ce)]})}),Ce?(0,k.jsx)(h.ZP,{item:!0,xs:6,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{required:!0,children:"Discount Percent"}),(0,k.jsx)(p.Z,{fullWidth:!0,id:"price",name:"price",onInput:function(e){e.target.value=Math.max(0,parseFloat(e.target.value)).toString().slice(0,2)},type:"number",value:ke,onChange:function(e){return qe(e.target.value)},placeholder:"Enter product price"})]})}):(0,k.jsx)(k.Fragment,{}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{children:"Cover Image"}),(0,k.jsxs)("div",{className:"custom-file",children:[(0,k.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",value:_e,accept:"image/png, image/jpeg",onChange:function(e){N(e.target.files[0]),Me(e.target.value)}}),(0,k.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:_e})]})]})}),(0,k.jsx)(h.ZP,{item:!0,xs:12,md:6,children:(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(l.Z,{children:"Choose Mutiple Image"}),(0,k.jsxs)("div",{className:"custom-file",children:[(0,k.jsx)("input",{type:"file",className:"custom-file-input",id:"thumbnail",multiple:!0,value:Ve,accept:"image/png, image/jpeg",onChange:function(e){E(e.target.files),Qe(e.target.value)}}),(0,k.jsx)("label",{className:"custom-file-label",for:"thumbnail",children:Ve})]})]})})]}),(0,k.jsx)("br",{}),(0,k.jsxs)(h.ZP,{container:!0,spacing:d.dv,children:[(0,k.jsxs)(h.ZP,{item:!0,xs:4,md:4,children:[(0,k.jsx)(l.Z,{required:!0,children:"Cover Image"}),(0,k.jsx)(x.Z,{children:(0,k.jsx)("a",{href:"".concat(Ue),target:"_blank",children:(0,k.jsx)("img",{src:"".concat(Ue),width:200,height:200})})})]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",(0,k.jsxs)(h.ZP,{item:!0,xs:4,md:4,children:[(0,k.jsx)(l.Z,{required:!0,children:"Images"}),He.map((function(e,t){return(0,k.jsx)(x.Z,{children:(0,k.jsx)("a",{href:e,target:"_blank",children:(0,k.jsx)("img",{src:e,width:200,height:200})},t)})}))]})]}),(0,k.jsx)("br",{}),(0,k.jsx)("center",{children:ne?(0,k.jsx)(g.Z,{}):(0,k.jsx)(j.Z,{variant:"contained",onClick:function(e){return it.apply(this,arguments)},children:"Update Product"})})]})})}}}]);
//# sourceMappingURL=4094.2821bb91.chunk.js.map